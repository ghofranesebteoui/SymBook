{% extends 'base.html.twig' %}

{% block title %}SymBook - Votre Librairie en Ligne{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #2c3e50;
            --secondary: #3498db;
            --accent: #e74c3c;
            --light: #ecf0f1;
            --dark: #2c3e50;
            --success: #27ae60;
            --warning: #f39c12;
            --info: #3498db;
        }

        body {
            font-family: 'Poppins', sans-serif;
            margin: 0;
            padding: 0;
            color: #333;
            background-color: #f8f9fa;
        }

        h1, h2, h3, h4, h5, h6 {
            font-family: 'Playfair Display', serif;
        }

        .navbar {
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 1000;
            background-color: var(--primary);
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            padding: 15px 0;
        }

        .navbar-brand {
            font-family: 'Playfair Display', serif;
            font-weight: 700;
            font-size: 1.8rem;
            color: white !important;
        }

        .navbar-nav .nav-link {
            color: rgba(255,255,255,0.85) !important;
            font-weight: 500;
            padding: 0.5rem 1rem;
            transition: all 0.3s ease;
        }

        .navbar-nav .nav-link:hover,
        .navbar-nav .nav-link.active {
            color: white !important;
            background-color: rgba(255,255,255,0.1);
            border-radius: 4px;
        }

        .hero-section {
            background: linear-gradient(rgba(44, 62, 80, 0.8), rgba(44, 62, 80, 0.8)), url('https://images.unsplash.com/photo-1507842217343-583bb7270b66?q=80&w=2070&auto=format&fit=crop') no-repeat center center/cover;
            color: white;
            padding: 180px 0 120px;
            text-align: center;
            margin-top: 0;
        }

        .hero-section h1 {
            font-size: 3.8rem;
            font-weight: bold;
            margin-bottom: 1.5rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .hero-section p {
            font-size: 1.4rem;
            max-width: 700px;
            margin: 0 auto 2rem;
            opacity: 0.9;
        }

        .btn-primary {
            background-color: var(--secondary);
            border-color: var(--secondary);
            padding: 12px 30px;
            font-weight: 600;
            letter-spacing: 0.5px;
            transition: all 0.3s ease;
        }

        .btn-primary:hover {
            background-color: #2980b9;
            border-color: #2980b9;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .btn-outline-primary {
            color: var(--secondary);
            border-color: var(--secondary);
            transition: all 0.3s ease;
        }

        .btn-outline-primary:hover {
            background-color: var(--secondary);
            border-color: var(--secondary);
            transform: translateY(-2px);
        }

        .section-title {
            position: relative;
            display: inline-block;
            margin-bottom: 2.5rem;
            font-weight: 700;
        }

        .section-title:after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 3px;
            background-color: var(--accent);
        }

        .book-card {
            transition: all 0.3s ease;
            border: none;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            height: 100%;
        }

        .book-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0,0,0,0.1);
        }

        .book-img {
            height: 320px;
            object-fit: cover;
            transition: all 0.5s ease;
        }

        .book-card:hover .book-img {
            transform: scale(1.05);
        }

        .card-body {
            padding: 1.5rem;
        }

        .card-title {
            font-weight: 600;
            margin-bottom: 0.75rem;
            font-family: 'Playfair Display', serif;
        }

        .card-text {
            color: #666;
            margin-bottom: 1rem;
        }

        .price {
            font-size: 1.2rem;
            color: var(--accent);
            font-weight: 700;
            margin-bottom: 1rem;
            display: block;
        }

        .category-section {
            background-color: #fff;
            padding: 80px 0;
        }

        .category-card {
            background-color: #fff;
            border: none;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            transition: all 0.3s ease;
            height: 100%;
        }

        .category-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }

        .category-img {
            height: 180px;
            object-fit: cover;
        }

        .about-section {
            background-color: var(--light);
            padding: 80px 0;
        }

        .about-content {
            max-width: 800px;
            margin: 0 auto;
            line-height: 1.8;
        }

        .offers-section {
            padding: 80px 0;
            background-color: #fff;
        }

        .offer-card {
            border: none;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            transition: all 0.3s ease;
            height: 100%;
            border-top: 4px solid var(--secondary);
        }

        .offer-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }

        .offer-card .card-title {
            color: var(--secondary);
        }

        footer {
            background-color: var(--primary);
            color: white;
            padding: 60px 0 20px;
            position: relative;
            z-index: 1;
        }

        .footer-title {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
            color: white;
        }

        .footer-links {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .footer-links li {
            margin-bottom: 0.75rem;
        }

        .footer-links a {
            color: rgba(255,255,255,0.7);
            text-decoration: none;
            transition: all 0.3s ease;
        }

        .footer-links a:hover {
            color: white;
            padding-left: 5px;
        }

        .social-links {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }

        .social-links a {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            background-color: rgba(255,255,255,0.1);
            border-radius: 50%;
            color: white;
            transition: all 0.3s ease;
        }

        .social-links a:hover {
            background-color: var(--secondary);
            transform: translateY(-3px);
        }

        .copyright {
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid rgba(255,255,255,0.1);
            text-align: center;
            color: rgba(255,255,255,0.6);
        }

        .newsletter-form {
            position: relative;
            margin-top: 20px;
        }

        .newsletter-form input {
            width: 100%;
            padding: 12px 100px 12px 15px;
            border: none;
            border-radius: 4px;
            background-color: rgba(255,255,255,0.1);
            color: white;
        }

        .newsletter-form input::placeholder {
            color: rgba(255,255,255,0.5);
        }

        .newsletter-form button {
            position: absolute;
            right: 5px;
            top: 5px;
            bottom: 5px;
            border: none;
            background-color: var(--secondary);
            color: white;
            border-radius: 4px;
            padding: 0 15px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .newsletter-form button:hover {
            background-color: #2980b9;
        }

        /* Responsive adjustments */
        @media (max-width: 992px) {
            .hero-section h1 {
                font-size: 3rem;
            }
            .hero-section p {
                font-size: 1.2rem;
            }
        }

        @media (max-width: 768px) {
            .hero-section {
                padding: 150px 0 80px;
            }
            .hero-section h1 {
                font-size: 2.5rem;
            }
            .section-title {
                font-size: 1.8rem;
            }
        }

        @media (max-width: 576px) {
            .hero-section h1 {
                font-size: 2rem;
            }
            .hero-section p {
                font-size: 1rem;
            }
        }
    </style>
{% endblock %}

{% block body %}
    <nav class="navbar navbar-expand-lg navbar-dark">
        <div class="container">
            <a class="navbar-brand" href="{{ path('app_home') }}">SymBook</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link active" href="{{ path('app_home') }}"><i class="fas fa-home me-1"></i> Accueil</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{{ path('app_livres_all') }}"><i class="fas fa-book me-1"></i> Livres</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{{ path('app_categories_all') }}"><i class="fas fa-tags me-1"></i> Catégories</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{{ path('app_login') }}"><i class="fas fa-sign-in-alt me-1"></i> Connexion</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{{ path('app_register') }}"><i class="fas fa-user-plus me-1"></i> Inscription</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <section class="hero-section">
        <div class="container">
            <h1>Découvrez l'univers des livres</h1>
            {% if search is defined and search is not empty %}
                <div class="search-info text-center mb-4">
                    <p class="text-muted">Résultats de recherche pour: <span class="fw-bold text-primary">{{ search }}</span></p>
                </div>
            {% endif %}
            <p>Explorez notre vaste collection de livres dans tous les genres. Commencez votre voyage littéraire dès maintenant !</p>
            <a href="{{ path('app_livres_all') }}" class="btn btn-primary btn-lg mt-3"><i class="fas fa-shopping-cart me-2"></i>Acheter maintenant</a>
        </div>
    </section>

    <section class="py-5">
        <div class="container">
            <h2 class="text-center section-title">Livres à la une</h2>
            <div class="row g-4" id="book-list">
                {% for livre in livres %}
                    <div class="col-md-6 col-lg-3">
                        <div class="card book-card h-100">
                            <div class="overflow-hidden">
                                <img src="{{ livre.image|default('https://m.media-amazon.com/images/I/51aWTLR3E0L._SX331_BO1,204,203,200_.jpg') }}" class="card-img-top book-img" alt="{{ livre.titre }}">
                            </div>
                            <div class="card-body d-flex flex-column">
                                <h5 class="card-title">{{ livre.titre|default('To Kill a Mockingbird') }}</h5>
                                <p class="card-text flex-grow-1">{{ livre.resume|default('A powerful story of racial injustice and the loss of innocence in a small Southern town. Harper Lee\'s Pulitzer Prize-winning novel is a timeless classic.')|slice(0, 100) ~ '...' }}</p>
                                <span class="price">${{ livre.prix|default('12.99')|number_format(2) }}</span>
                                <a href="{{ path('app_livres_show', {'id': livre.id}) }}" class="btn btn-outline-primary"><i class="fas fa-info-circle me-2"></i>Voir détails</a>
                            </div>
                        </div>
                    </div>
                {% else %}
                    <div class="col-12">
                        <div class="alert alert-info text-center">
                            <i class="fas fa-info-circle me-2"></i>Aucun livre à la une disponible pour le moment.
                        </div>
                    </div>
                {% endfor %}
            </div>
        </div>
    </section>

    <section class="category-section">
        <div class="container">
            <h2 class="text-center section-title">Explorer par catégorie</h2>
            <div class="row g-4" id="category-list">
                {% for category in categories %}
                    <div class="col-md-6 col-lg-3">
                        <div class="card category-card h-100">
                            <img src="{{ category.image|default('https://images.unsplash.com/photo-1532012197267-da84d127e765?q=80&w=2787&auto=format&fit=crop') }}" class="card-img-top category-img" alt="{{ category.libelle }}">
                            <div class="card-body text-center">
                                <h5 class="card-title">{{ category.libelle|default('Fiction') }}</h5>
                                <a href="{{ path('app_categories_all') }}" class="btn btn-outline-primary"><i class="fas fa-arrow-right me-2"></i>Explorer</a>
                            </div>
                        </div>
                    </div>
                {% else %}
                    <div class="col-12">
                        <div class="alert alert-info text-center">
                            <i class="fas fa-info-circle me-2"></i>Aucune catégorie disponible pour le moment.
                        </div>
                    </div>
                {% endfor %}
            </div>
        </div>
    </section>

    <section class="about-section">
        <div class="container">
            <h2 class="text-center section-title">À propos de nous</h2>
            <div class="about-content text-center">
                <p>
                    Bienvenue chez SymBook, votre destination unique pour les livres de tous genres.
                    Nous sommes passionnés par la littérature et nous nous efforçons de vous proposer la meilleure sélection de livres,
                    des classiques intemporels aux derniers best-sellers. Notre mission est de rendre la lecture accessible
                    et agréable pour tous.
                </p>
                <a href="#" class="btn btn-outline-primary mt-3"><i class="fas fa-users me-2"></i>En savoir plus</a>
            </div>
        </div>
    </section>

    <section class="offers-section">
        <div class="container">
            <h2 class="text-center section-title">Offres spéciales</h2>
            <p class="text-center mb-5">Découvrez nos promotions spéciales sur une sélection de titres ce mois-ci !</p>
            <div class="row g-4">
                <div class="col-md-4">
                    <div class="card offer-card h-100">
                        <div class="card-body text-center">
                            <i class="fas fa-percentage fa-3x mb-3" style="color: var(--secondary);"></i>
                            <h5 class="card-title">20% de réduction sur les classiques</h5>
                            <p class="card-text">Bénéficiez de 20% de réduction sur tous les titres de littérature classique.</p>
                            <a href="#" class="btn btn-outline-primary mt-3">Voir l'offre</a>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card offer-card h-100">
                        <div class="card-body text-center">
                            <i class="fas fa-gift fa-3x mb-3" style="color: var(--secondary);"></i>
                            <h5 class="card-title">Achetez 2, obtenez 1 gratuit</h5>
                            <p class="card-text">Achetez deux livres et obtenez-en un troisième gratuitement !</p>
                            <a href="#" class="btn btn-outline-primary mt-3">Voir l'offre</a>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card offer-card h-100">
                        <div class="card-body text-center">
                            <i class="fas fa-star fa-3x mb-3" style="color: var(--secondary);"></i>
                            <h5 class="card-title">Nouveautés</h5>
                            <p class="card-text">Explorez les derniers livres à des prix réduits.</p>
                            <a href="#" class="btn btn-outline-primary mt-3">Voir l'offre</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <footer>
        <div class="container">
            <div class="row">
                <div class="col-lg-4 mb-4">
                    <h5 class="footer-title">SymBook</h5>
                    <p>Votre destination pour découvrir, explorer et acheter des livres de tous genres. Nous sommes passionnés par la littérature et nous nous efforçons de vous offrir la meilleure expérience de lecture.</p>
                    <div class="social-links">
                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-linkedin-in"></i></a>
                    </div>
                </div>
                <div class="col-lg-2 col-md-4 mb-4">
                    <h5 class="footer-title">Liens rapides</h5>
                    <ul class="footer-links">
                        <li><a href="{{ path('app_home') }}">Accueil</a></li>
                        <li><a href="{{ path('app_livres_all') }}">Livres</a></li>
                        <li><a href="{{ path('app_categories_all') }}">Catégories</a></li>
                        <li><a href="#">À propos</a></li>
                        <li><a href="#">Contact</a></li>
                    </ul>
                </div>
                <div class="col-lg-2 col-md-4 mb-4">
                    <h5 class="footer-title">Catégories</h5>
                    <ul class="footer-links">
                        <li><a href="#">Fiction</a></li>
                        <li><a href="#">Non-fiction</a></li>
                        <li><a href="#">Jeunesse</a></li>
                        <li><a href="#">Science-fiction</a></li>
                        <li><a href="#">Biographies</a></li>
                    </ul>
                </div>
                <div class="col-lg-4 col-md-4 mb-4">
                    <h5 class="footer-title">Newsletter</h5>
                    <p>Abonnez-vous à notre newsletter pour recevoir les dernières nouvelles et offres spéciales.</p>
                    <form class="newsletter-form">
                        <input type="email" placeholder="Votre adresse email" required>
                        <button type="submit">S'abonner</button>
                    </form>
                </div>
            </div>
            <div class="copyright">
                <p>© 2025 SymBook. Tous droits réservés.</p>
            </div>
        </div>
    </footer>
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Animation pour les cartes de livres
            const bookCards = document.querySelectorAll('.book-card');
            bookCards.forEach((card, index) => {
                card.style.opacity = '0';
                card.style.transform = 'translateY(20px)';
                setTimeout(() => {
                    card.style.transition = 'opacity 0.5s ease, transform 0.5s ease';
                    card.style.opacity = '1';
                    card.style.transform = 'translateY(0)';
                }, 100 * index);
            });

            // Gestion du formulaire de newsletter
            const newsletterForm = document.querySelector('.newsletter-form');
            if (newsletterForm) {
                newsletterForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    const email = this.querySelector('input[type="email"]').value;
                    alert(`Merci de vous être abonné avec l'adresse: ${email}. Vous recevrez bientôt nos dernières nouvelles!`);
                    this.reset();
                });
            }
        });
    </script>
{% endblock %}