{% extends 'base.html.twig' %}
{% block stylesheets %}
    {{ parent() }}
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.css" />
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700;800&family=Libre+Baskerville:wght@400;700&display=swap" rel="stylesheet">
    <style>
        /* Styles pour la recherche */
        .search-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.9);
            z-index: 2000;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            visibility: hidden;
            transition: all 0.4s ease;
        }

        .search-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .search-container {
            width: 80%;
            max-width: 800px;
            position: relative;
        }

        .search-form {
            display: flex;
            position: relative;
        }

        .search-form input {
            width: 100%;
            padding: 20px 60px 20px 30px;
            background-color: transparent;
            border: none;
            border-bottom: 2px solid var(--primary);
            color: white;
            font-size: 24px;
            font-weight: 300;
            outline: none;
        }

        .search-form input::placeholder {
            color: rgba(255, 255, 255, 0.6);
        }

        .search-form button {
            position: absolute;
            right: 0;
            top: 50%;
            transform: translateY(-50%);
            background: transparent;
            border: none;
            color: var(--primary);
            font-size: 24px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .search-form button:hover {
            color: white;
        }

        .close-search {
            position: absolute;
            top: -60px;
            right: 0;
            background: transparent;
            border: none;
            color: white;
            font-size: 24px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .close-search:hover {
            color: var(--primary);
            transform: rotate(90deg);
        }
        :root {
            --primary: #ff3366;
            --secondary: #6c5ce7;
            --dark: #2d3436;
            --light: #f9f9f9;
            --gray: #636e72;
            --success: #00b894;
            --warning: #fdcb6e;
            --info: #0984e3;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Montserrat', sans-serif;
            background-color: #fff;
            color: var(--dark);
            overflow-x: hidden;
            position: relative;
        }

        h1, h2, h3, h4, h5, h6 {
            font-family: 'Libre Baskerville', serif;
            font-weight: 700;
        }

        /* Navbar */
        .navbar {
            padding: 20px 0;
            transition: all 0.3s ease;
            background-color: transparent;
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
        }

        .navbar.scrolled {
            background-color: #fff;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            padding: 15px 0;
            position: fixed;
        }

        .navbar-brand {
            font-family: 'Libre Baskerville', serif;
            font-weight: 700;
            font-size: 28px;
            color: #fff;
            letter-spacing: -0.5px;
            margin-right: 30px;
        }

        .navbar.scrolled .navbar-brand {
            color: var(--dark);
        }

        .navbar-nav .nav-link {
            font-weight: 600;
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 1px;
            padding: 10px 15px;
            color: rgba(255,255,255,0.9);
            transition: all 0.3s ease;
        }

        .navbar.scrolled .nav-link {
            color: var(--dark);
        }

        .navbar-nav .nav-link:hover,
        .navbar-nav .nav-link.active {
            color: var(--primary);
        }

        .navbar-toggler {
            border: none;
            padding: 0;
        }

        .navbar-toggler:focus {
            box-shadow: none;
        }

        .navbar-toggler-icon {
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='rgba%28255, 255, 255, 1%29' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e");
        }

        .navbar.scrolled .navbar-toggler-icon {
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='rgba%2833, 37, 41, 1%29' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e");
        }

        /* Navbar Icons */
        .nav-icon {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            position: relative;
            width: 40px;
            height: 40px;
            margin-left: 10px;
            border-radius: 50%;
            background-color: rgba(255, 255, 255, 0.1);
            color: white;
            font-size: 18px;
            transition: all 0.3s ease;
        }

        .navbar.scrolled .nav-icon {
            background-color: rgba(0, 0, 0, 0.05);
            color: var(--dark);
        }

        .nav-icon:hover {
            background-color: var(--primary);
            color: white;
            transform: translateY(-3px);
        }

        .nav-icon .badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background-color: var(--primary);
            color: white;
            font-size: 10px;
            padding: 2px 5px;
            border-radius: 50%;
            border: 2px solid white;
        }

        .navbar.scrolled .nav-icon .badge {
            border-color: #fff;
        }

        .nav-buy-btn {
            padding: 8px 20px;
            font-size: 14px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            border-radius: 50px;
            box-shadow: 0 5px 15px rgba(255, 51, 102, 0.3);
            transition: all 0.3s ease;
            background-color: var(--primary);
            border: none;
            color: white;
            margin-left: 15px;
        }

        .nav-buy-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(255, 51, 102, 0.4);
            background-color: #ff1a53;
            color: white;
        }

        /* Hero Section */
        .hero-section {
            position: relative;
            height: 100vh;
            min-height: 700px;
            display: flex;
            align-items: center;
            background: linear-gradient(135deg, rgba(108, 92, 231, 0.9) 0%, rgba(255, 51, 102, 0.9) 100%), url('https://images.unsplash.com/photo-1524995997946-a1c2e315a42f?q=80&w=2070&auto=format&fit=crop') no-repeat center center/cover;
            color: white;
            overflow: hidden;
        }

        .hero-content {
            position: relative;
            z-index: 2;
        }

        .hero-title {
            font-size: 4.5rem;
            font-weight: 800;
            line-height: 1.2;
            margin-bottom: 30px;
            text-shadow: 0 2px 10px rgba(0,0,0,0.2);
        }

        .hero-subtitle {
            font-size: 1.5rem;
            font-weight: 400;
            margin-bottom: 40px;
            max-width: 600px;
            opacity: 0.9;
        }

        .hero-btn {
            padding: 15px 40px;
            font-size: 16px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            border-radius: 50px;
            box-shadow: 0 10px 20px rgba(255, 51, 102, 0.4);
            transition: all 0.3s ease;
            background-color: var(--primary);
            border: none;
        }

        .hero-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(255, 51, 102, 0.6);
            background-color: #ff1a53;
        }

        .hero-shape {
            position: absolute;
            bottom: -10px;
            left: 0;
            width: 100%;
            height: 150px;
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320"><path fill="%23ffffff" fill-opacity="1" d="M0,96L48,112C96,128,192,160,288,160C384,160,480,128,576,122.7C672,117,768,139,864,149.3C960,160,1056,160,1152,138.7C1248,117,1344,75,1392,53.3L1440,32L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"></path></svg>') no-repeat;
            background-size: cover;
        }

        /* Featured Books Section */
        .section-title {
            position: relative;
            font-size: 2.5rem;
            margin-bottom: 60px;
            text-align: center;
        }

        .section-title:after {
            content: '';
            position: absolute;
            bottom: -15px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 4px;
            background: var(--primary);
            border-radius: 2px;
        }

        .featured-books {
            padding: 100px 0;
        }

        .book-card {
            position: relative;
            border: none;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.08);
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            margin-bottom: 30px;
            height: 100%;
        }

        .book-card:hover {
            transform: translateY(-15px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.15);
        }

        .book-card .card-img-container {
            position: relative;
            overflow: hidden;
            height: 350px;
        }

        .book-card .card-img-top {
            height: 100%;
            object-fit: cover;
            transition: transform 0.8s ease;
        }

        .book-card:hover .card-img-top {
            transform: scale(1.1);
        }

        .book-card .card-img-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(to bottom, rgba(0,0,0,0) 0%, rgba(0,0,0,0.8) 100%);
            opacity: 0;
            transition: opacity 0.3s ease;
            display: flex;
            align-items: flex-end;
            padding: 20px;
        }

        .book-card:hover .card-img-overlay {
            opacity: 1;
        }

        .book-card .quick-view-btn {
            color: white;
            background-color: var(--primary);
            border: none;
            padding: 10px 20px;
            border-radius: 50px;
            font-weight: 600;
            font-size: 14px;
            transition: all 0.3s ease;
        }

        .book-card .quick-view-btn:hover {
            background-color: #ff1a53;
            transform: translateY(-3px);
        }

        .book-card .card-body {
            padding: 25px;
        }

        .book-card .card-title {
            font-size: 1.2rem;
            font-weight: 700;
            margin-bottom: 10px;
            line-height: 1.4;
        }

        .book-card .card-text {
            color: var(--gray);
            font-size: 14px;
            margin-bottom: 15px;
        }

        .book-card .book-price {
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 20px;
            display: block;
        }

        .book-card .btn-outline-primary {
            color: var(--primary);
            border-color: var(--primary);
            border-radius: 50px;
            padding: 8px 25px;
            font-weight: 600;
            font-size: 14px;
            transition: all 0.3s ease;
        }

        .book-card .btn-outline-primary:hover {
            background-color: var(--primary);
            color: white;
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(255, 51, 102, 0.3);
        }

        .book-badge {
            position: absolute;
            top: 20px;
            right: 20px;
            background-color: var(--primary);
            color: white;
            padding: 8px 15px;
            border-radius: 50px;
            font-size: 12px;
            font-weight: 600;
            z-index: 10;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        /* Categories Section */
        .categories-section {
            padding: 100px 0;
            background-color: #f8f9fa;
            position: relative;
            overflow: hidden;
        }

        .categories-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 100px;
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320"><path fill="%23ffffff" fill-opacity="1" d="M0,96L48,112C96,128,192,160,288,160C384,160,480,128,576,122.7C672,117,768,139,864,149.3C960,160,1056,160,1152,138.7C1248,117,1344,75,1392,53.3L1440,32L1440,0L1392,0C1344,0,1248,0,1152,0C1056,0,960,0,864,0C768,0,672,0,576,0C480,0,384,0,288,0C192,0,96,0,48,0L0,0Z"></path></svg>') no-repeat;
            background-size: cover;
        }

        .category-card {
            position: relative;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.08);
            transition: all 0.3s ease;
            margin-bottom: 30px;
            height: 250px;
        }

        .category-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 35px rgba(0,0,0,0.15);
        }

        .category-img {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }

        .category-card:hover .category-img {
            transform: scale(1.1);
        }

        .category-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to bottom, rgba(108, 92, 231, 0.7) 0%, rgba(255, 51, 102, 0.7) 100%);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
            text-align: center;
        }

        .category-title {
            color: white;
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 15px;
            text-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }

        .category-btn {
            background-color: white;
            color: var(--primary);
            border: none;
            padding: 10px 25px;
            border-radius: 50px;
            font-weight: 600;
            font-size: 14px;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .category-btn:hover {
            background-color: var(--primary);
            color: white;
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.2);
        }

        /* About Section */
        .about-section {
            padding: 100px 0;
            background-color: white;
        }

        .about-content {
            max-width: 800px;
            margin: 0 auto;
            text-align: center;
            line-height: 1.8;
            font-size: 1.1rem;
            color: var(--gray);
        }

        /* Offers Section */
        .offers-section {
            padding: 100px 0;
            background-color: #f1f7ff;
            position: relative;
            overflow: hidden;
        }

        .offers-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 100px;
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320"><path fill="%23ffffff" fill-opacity="1" d="M0,160L48,170.7C96,181,192,203,288,202.7C384,203,480,181,576,186.7C672,192,768,224,864,224C960,224,1056,192,1152,176C1248,160,1344,160,1392,160L1440,160L1440,0L1392,0C1344,0,1248,0,1152,0C1056,0,960,0,864,0C768,0,672,0,576,0C480,0,384,0,288,0C192,0,96,0,48,0L0,0Z"></path></svg>') no-repeat;
            background-size: cover;
        }

        .offer-card {
            border: none;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.08);
            transition: all 0.3s ease;
            margin-bottom: 30px;
            height: 100%;
            text-align: center;
            padding: 40px 30px;
            background-color: white;
        }

        .offer-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 35px rgba(0,0,0,0.15);
        }

        .offer-icon {
            font-size: 3rem;
            color: var(--primary);
            margin-bottom: 25px;
            display: inline-block;
            background-color: rgba(255, 51, 102, 0.1);
            width: 100px;
            height: 100px;
            line-height: 100px;
            border-radius: 50%;
            transition: all 0.3s ease;
        }

        .offer-card:hover .offer-icon {
            background-color: var(--primary);
            color: white;
            transform: rotateY(180deg);
        }

        .offer-title {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 15px;
            color: var(--dark);
        }

        .offer-text {
            color: var(--gray);
            margin-bottom: 25px;
            font-size: 15px;
        }

        .offer-btn {
            color: var(--primary);
            background-color: transparent;
            border: 2px solid var(--primary);
            padding: 10px 25px;
            border-radius: 50px;
            font-weight: 600;
            font-size: 14px;
            transition: all 0.3s ease;
        }

        .offer-btn:hover {
            background-color: var(--primary);
            color: white;
        }

        /* Testimonials Section */
        .testimonials-section {
            padding: 100px 0;
            background-color: white;
        }

        .swiper {
            width: 100%;
            padding: 30px 0;
        }

        .testimonial-card {
            background-color: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.08);
            margin: 20px;
            position: relative;
        }

        .testimonial-card::before {
            content: '\201C';
            font-family: Georgia, serif;
            position: absolute;
            top: 20px;
            left: 20px;
            font-size: 5rem;
            color: rgba(255, 51, 102, 0.1);
            line-height: 1;
        }

        .testimonial-text {
            font-size: 16px;
            line-height: 1.8;
            color: var(--gray);
            margin-bottom: 20px;
            position: relative;
            z-index: 1;
        }

        .testimonial-author {
            display: flex;
            align-items: center;
        }

        .testimonial-avatar {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            object-fit: cover;
            margin-right: 15px;
            border: 3px solid var(--primary);
        }

        .testimonial-info h5 {
            margin: 0;
            font-size: 18px;
            font-weight: 700;
        }

        .testimonial-info p {
            margin: 0;
            font-size: 14px;
            color: var(--gray);
        }

        .swiper-pagination-bullet {
            width: 12px;
            height: 12px;
            background-color: var(--primary);
            opacity: 0.5;
        }

        .swiper-pagination-bullet-active {
            opacity: 1;
            background-color: var(--primary);
        }

        /* Newsletter Section */
        .newsletter-section {
            padding: 80px 0;
            background: linear-gradient(135deg, var(--secondary) 0%, var(--primary) 100%);
            color: white;
            text-align: center;
        }

        .newsletter-title {
            font-size: 2.5rem;
            margin-bottom: 20px;
        }

        .newsletter-text {
            font-size: 1.1rem;
            max-width: 600px;
            margin: 0 auto 30px;
            opacity: 0.9;
        }

        .newsletter-form {
            max-width: 500px;
            margin: 0 auto;
            position: relative;
        }

        .newsletter-input {
            width: 100%;
            padding: 15px 150px 15px 25px;
            border-radius: 50px;
            border: none;
            font-size: 16px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.2);
        }

        .newsletter-btn {
            position: absolute;
            right: 5px;
            top: 5px;
            bottom: 5px;
            background-color: var(--primary);
            color: white;
            border: none;
            border-radius: 50px;
            padding: 0 30px;
            font-weight: 600;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .newsletter-btn:hover {
            background-color: #ff1a53;
        }

        /* Footer */
        footer {
            background-color: #2d3436;
            color: white;
            padding: 80px 0 20px;
            position: relative;
        }

        .footer-logo {
            font-family: 'Libre Baskerville', serif;
            font-weight: 700;
            font-size: 28px;
            color: white;
            margin-bottom: 20px;
            display: inline-block;
        }

        .footer-text {
            color: rgba(255,255,255,0.7);
            margin-bottom: 25px;
            line-height: 1.8;
        }

        .footer-social {
            margin-bottom: 30px;
        }

        .social-icon {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            background-color: rgba(255,255,255,0.1);
            color: white;
            border-radius: 50%;
            margin-right: 10px;
            transition: all 0.3s ease;
        }

        .social-icon:hover {
            background-color: var(--primary);
            transform: translateY(-5px);
        }

        .footer-title {
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 25px;
            color: white;
        }

        .footer-links {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .footer-links li {
            margin-bottom: 15px;
        }

        .footer-links a {
            color: rgba(255,255,255,0.7);
            text-decoration: none;
            transition: all 0.3s ease;
            display: block;
        }

        .footer-links a:hover {
            color: var(--primary);
            transform: translateX(5px);
        }

        .footer-contact {
            margin-bottom: 15px;
            display: flex;
            align-items: flex-start;
        }

        .footer-contact i {
            color: var(--primary);
            font-size: 18px;
            margin-right: 15px;
            margin-top: 5px;
        }

        .footer-contact-text {
            color: rgba(255,255,255,0.7);
            line-height: 1.6;
        }

        .footer-bottom {
            border-top: 1px solid rgba(255,255,255,0.1);
            padding-top: 20px;
            margin-top: 60px;
            text-align: center;
            color: rgba(255,255,255,0.5);
            font-size: 14px;
        }

        /* Back to Top Button */
        .back-to-top {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 50px;
            height: 50px;
            background-color: var(--primary);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            z-index: 99;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .back-to-top.active {
            opacity: 1;
            visibility: visible;
        }

        .back-to-top:hover {
            background-color: #ff1a53;
            transform: translateY(-5px);
        }

        /* Responsive Styles */
        @media (max-width: 1199.98px) {
            .hero-title {
                font-size: 3.5rem;
            }
        }

        @media (max-width: 991.98px) {
            .hero-title {
                font-size: 3rem;
            }
            .hero-subtitle {
                font-size: 1.2rem;
            }
            .section-title {
                font-size: 2rem;
            }
        }

        @media (max-width: 767.98px) {
            .hero-title {
                font-size: 2.5rem;
            }
            .hero-subtitle {
                font-size: 1rem;
            }
            .hero-btn {
                padding: 12px 30px;
                font-size: 14px;
            }
            .section-title {
                font-size: 1.8rem;
            }
            .newsletter-input {
                padding: 15px 25px;
            }
            .newsletter-btn {
                position: static;
                width: 100%;
                margin-top: 15px;
                padding: 15px;
            }
        }

        @media (max-width: 575.98px) {
            .hero-title {
                font-size: 2rem;
            }
            .hero-section {
                min-height: 600px;
            }
        }

        /* Styles pour la pagination */
        .pagination-container {
            display: flex;
            justify-content: center;
            margin: 30px 0;
        }

        .pagination {
            display: flex;
            list-style: none;
            padding: 0;
            margin: 0;
            border-radius: 50px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .pagination .page,
        .pagination .next,
        .pagination .previous,
        .pagination .first,
        .pagination .last,
        .pagination .current {
            margin: 0;
        }

        .pagination a,
        .pagination .current {
            display: flex;
            align-items: center;
            justify-content: center;
            min-width: 40px;
            height: 40px;
            padding: 0 15px;
            background-color: white;
            color: var(--dark);
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .pagination a:hover {
            background-color: rgba(255, 51, 102, 0.1);
            color: var(--primary);
        }

        .pagination .current {
            background-color: var(--primary);
            color: white;
        }

        .pagination .disabled {
            opacity: 0.5;
            pointer-events: none;
        }

        /* Correction pour le footer */
        footer {
            position: relative; /* Changer de fixed à relative */
        }
    </style>
{% endblock %}
{% block body %}
    <div class="search-overlay" id="searchOverlay">
        <div class="search-container">
            <form action="{{ path('app_livres_all') }}" method="GET" class="search-form">
                <input type="text" name="search" id="searchInput" placeholder="Rechercher un livre par titre..." autocomplete="off">
                <button type="submit">
                    <i class="fas fa-search"></i>
                </button>
            </form>
            <button class="close-search" id="closeSearch">
                <i class="fas fa-times"></i>
            </button>
        </div>
    </div>


    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark">
        <div class="container">
            <a class="navbar-brand" href="{{ path('app_home') }}">SymBook</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="{{ path('app_home') }}"><i class="fas fa-home me-1"></i> Accueil</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{{ path('app_livres_all') }}"><i class="fas fa-book me-1"></i> Livres</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#categories-section"><i class="fas fa-tags me-1"></i> Catégories</a>
                    </li>
                    {% if is_granted('ROLE_ADMIN') %}
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#" id="adminDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                <i class="fas fa-user-shield me-1"></i> Administration
                            </a>
                            <ul class="dropdown-menu" aria-labelledby="adminDropdown">
                                <li><a class="dropdown-item" href="{{ path('app_livres_all') }}">Gérer les livres</a></li>
                                <li><a class="dropdown-item" href="{{ path('app_categories_all') }}">Gérer les catégories</a></li>
                            </ul>
                        </li>
                    {% endif %}
                </ul>

                <div class="nav-actions d-flex align-items-center">
                    <a href="{{ path('app_livres_all') }}" class="btn nav-buy-btn">Acheter maintenant</a>

                    <a href="{{ path('app_panier') }}" class="nav-icon" title="Panier">
                        <i class="fas fa-shopping-cart"></i>
                        {% if app.session.get('panier')|default([])|length > 0 %}
                            <span class="badge">{{ app.session.get('panier')|default([])|length }}</span>
                        {% endif %}
                    </a>

                    {% if app.user %}
                        <a href="{{ path('app_user_profile') }}" class="nav-icon" title="Mon profil">
                            <i class="fas fa-user"></i>
                        </a>
                    {% else %}
                        <a href="{{ path('app_login') }}" class="nav-icon" title="Connexion">
                            <i class="fas fa-user"></i>
                        </a>
                    {% endif %}

                    <a href="#" id="searchIcon" class="nav-icon" title="Rechercher">
                        <i class="fas fa-search"></i>
                    </a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero-section">
        <div class="container hero-content">
            <div class="row">
                <div class="col-lg-8">
                    <h1 class="hero-title">Découvrez un monde de connaissances</h1>
                    <p class="hero-subtitle">Explorez notre vaste collection de livres dans tous les genres. Commencez votre voyage littéraire dès maintenant !</p>
                    <a href="{{ path('app_livres_all') }}" class="btn hero-btn">Explorer la collection</a>
                </div>
            </div>
        </div>
        <div class="hero-shape"></div>
    </section>

    <!-- Featured Books Section -->
    <section class="featured-books">
        <div class="container">
            <h2 class="section-title">Livres à la une</h2>
            <div class="row" id="book-list">
                {% for livre in livres %}
                    <div class="col-lg-3 col-md-6">
                        <div class="book-card">
                            {% if livre.prix < 15 %}
                                <div class="book-badge">Promo</div>
                            {% endif %}
                            <div class="card-img-container">
                                <img src="{{ livre.image ?: 'https://m.media-amazon.com/images/I/51aWTLR3E0L._SX331_BO1,204,203,200_.jpg' }}" class="card-img-top book-img" alt="{{ livre.titre }}">
                                <div class="card-img-overlay">
                                    <button class="quick-view-btn">Aperçu rapide</button>
                                </div>
                            </div>
                            <div class="card-body">
                                <h5 class="card-title">{{ livre.titre }}</h5>
                                <p class="card-text">{{ livre.resume|slice(0, 100) ~ '...' }}</p>
                                <span class="book-price">{{ livre.prix|number_format(2) }} DT</span>
                                <a href="{{ path('app_livre_detail', {'id': livre.id}) }}" class="btn btn-outline-primary">Voir détails</a>
                            </div>
                        </div>
                    </div>
                {% else %}
                    <div class="col-12">
                        <div class="alert alert-info text-center">
                            Aucun livre à la une disponible pour le moment.
                        </div>
                    </div>
                {% endfor %}
            </div>
        </div>
    </section>

    <!-- Pagination -->
    <div class="container my-5">
        <div class="pagination-container">
            {{ knp_pagination_render(livres) }}
        </div>
    </div>

    <!-- Categories Section -->
    <section class="categories-section" id="categories-section">
        <div class="container">
            <h2 class="section-title">Explorer par catégorie</h2>
            <div class="row" id="category-list">
                {% for category in categories %}
                    <div class="col-lg-3 col-md-6">
                        <div class="category-card">
                            <img src="{{ category.image|default('https://images.unsplash.com/photo-1532012197267-da84d127e765?q=80&w=2787&auto=format&fit=crop') }}" class="category-img" alt="{{ category.libelle }}">
                            <div class="category-overlay">
                                <h3 class="category-title">{{ category.libelle|default('Fiction') }}</h3>
                                <a href="{{ path('app_categories_all') }}" class="category-btn">Explorer</a>
                            </div>
                        </div>
                    </div>
                {% else %}
                    <div class="col-12">
                        <div class="alert alert-info text-center">
                            Aucune catégorie disponible pour le moment.
                        </div>
                    </div>
                {% endfor %}
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section class="about-section">
        <div class="container">
            <h2 class="section-title">À propos de nous</h2>
            <div class="about-content">
                <p>
                    Bienvenue chez SymBook, votre destination unique pour les livres de tous genres.
                    Nous sommes passionnés par la littérature et nous nous efforçons de vous proposer la meilleure sélection de livres,
                    des classiques intemporels aux derniers best-sellers. Notre mission est de rendre la lecture accessible
                    et agréable pour tous.
                </p>
            </div>
        </div>
    </section>

    <!-- Offers Section -->
    <section class="offers-section">
        <div class="container">
            <h2 class="section-title">Offres spéciales</h2>
            <div class="row">
                <div class="col-lg-4 col-md-6">
                    <div class="offer-card">
                        <i class="fas fa-percentage offer-icon"></i>
                        <h3 class="offer-title">20% de réduction sur les classiques</h3>
                        <p class="offer-text">Bénéficiez de 20% de réduction sur tous les titres de littérature classique.</p>
                        <a href="#" class="btn offer-btn">Voir l'offre</a>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6">
                    <div class="offer-card">
                        <i class="fas fa-gift offer-icon"></i>
                        <h3 class="offer-title">Achetez 2, obtenez 1 gratuit</h3>
                        <p class="offer-text">Achetez deux livres et obtenez-en un troisième gratuitement !</p>
                        <a href="#" class="btn offer-btn">Voir l'offre</a>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6">
                    <div class="offer-card">
                        <i class="fas fa-star offer-icon"></i>
                        <h3 class="offer-title">Nouveautés</h3>
                        <p class="offer-text">Explorez les derniers livres à des prix réduits.</p>
                        <a href="#" class="btn offer-btn">Voir l'offre</a>
                    </div>
                </div>
            </div>
        </div>
    </section>



    <!-- Testimonials Section -->
    <section class="testimonials-section">
        <div class="container">
            <h2 class="section-title">Ce que disent nos clients</h2>
            <div class="swiper testimonials-swiper">
                <div class="swiper-wrapper">
                    <div class="swiper-slide">
                        <div class="testimonial-card">
                            <p class="testimonial-text">SymBook offre une expérience de lecture incroyable. J'ai trouvé tous les livres que je cherchais et le service client est exceptionnel !</p>
                            <div class="testimonial-author">
                                <img src="https://randomuser.me/api/portraits/women/32.jpg" alt="Sophie Martin" class="testimonial-avatar">
                                <div class="testimonial-info">
                                    <h5>Sophie Martin</h5>
                                    <p>Lectrice passionnée</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="swiper-slide">
                        <div class="testimonial-card">
                            <p class="testimonial-text">La livraison est rapide et les prix sont très compétitifs. Je recommande vivement SymBook à tous les amateurs de lecture !</p>
                            <div class="testimonial-author">
                                <img src="https://randomuser.me/api/portraits/men/46.jpg" alt="Thomas Dubois" class="testimonial-avatar">
                                <div class="testimonial-info">
                                    <h5>Thomas Dubois</h5>
                                    <p>Client fidèle</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="swiper-slide">
                        <div class="testimonial-card">
                            <p class="testimonial-text">J'adore la sélection de livres proposée par SymBook. C'est devenu ma librairie en ligne préférée !</p>
                            <div class="testimonial-author">
                                <img src="https://randomuser.me/api/portraits/women/65.jpg" alt="Marie Leroy" class="testimonial-avatar">
                                <div class="testimonial-info">
                                    <h5>Marie Leroy</h5>
                                    <p>Enseignante</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="swiper-pagination"></div>
            </div>
        </div>
    </section>

    <!-- Newsletter Section -->
    <section class="newsletter-section">
        <div class="container">
            <h2 class="newsletter-title">Restez informé</h2>
            <p class="newsletter-text">Abonnez-vous à notre newsletter pour recevoir les dernières nouvelles et offres spéciales.</p>
            <form class="newsletter-form">
                <input type="email" class="newsletter-input" placeholder="Votre adresse email" required>
                <button type="submit" class="newsletter-btn">S'abonner</button>
            </form>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="row">
                <div class="col-lg-4 mb-5">
                    <a href="#" class="footer-logo">SymBook</a>
                    <p class="footer-text">Votre destination pour découvrir, explorer et acheter des livres de tous genres. Nous sommes passionnés par la littérature et nous nous efforçons de vous offrir la meilleure expérience de lecture.</p>
                    <div class="footer-social">
                        <a href="#" class="social-icon"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" class="social-icon"><i class="fab fa-twitter"></i></a>
                        <a href="#" class="social-icon"><i class="fab fa-instagram"></i></a>
                        <a href="#" class="social-icon"><i class="fab fa-linkedin-in"></i></a>
                    </div>
                </div>
                <div class="col-lg-2 col-md-4 col-6 mb-4">
                    <h4 class="footer-title">Liens rapides</h4>
                    <ul class="footer-links">
                        <li><a href="{{ path('app_home') }}">Accueil</a></li>
                        <li><a href="{{ path('app_livres_all') }}">Livres</a></li>
                        <li><a href="{{ path('app_categories_all') }}">Catégories</a></li>
                        <li><a href="#">À propos</a></li>
                        <li><a href="#">Contact</a></li>
                    </ul>
                </div>
                <div class="col-lg-2 col-md-4 col-6 mb-4">
                    <h4 class="footer-title">Catégories</h4>
                    <ul class="footer-links">
                        <li><a href="#">Fiction</a></li>
                        <li><a href="#">Non-fiction</a></li>
                        <li><a href="#">Jeunesse</a></li>
                        <li><a href="#">Science-fiction</a></li>
                        <li><a href="#">Biographies</a></li>
                    </ul>
                </div>
                <div class="col-lg-4 col-md-4 mb-4">
                    <h4 class="footer-title">Contact</h4>
                    <div class="footer-contact">
                        <i class="fas fa-map-marker-alt"></i>
                        <div class="footer-contact-text">
                            123 Rue de la Librairie<br>
                            75001 Paris, France
                        </div>
                    </div>
                    <div class="footer-contact">
                        <i class="fas fa-phone-alt"></i>
                        <div class="footer-contact-text">
                            +33 1 23 45 67 89
                        </div>
                    </div>
                    <div class="footer-contact">
                        <i class="fas fa-envelope"></i>
                        <div class="footer-contact-text">
                            contact@symbook.com
                        </div>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>© 2025 SymBook. Tous droits réservés.</p>
            </div>
        </div>
    </footer>

    <!-- Back to Top Button -->
    <a href="#" class="back-to-top" id="backToTop">
        <i class="fas fa-arrow-up"></i>
    </a>
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Navbar scroll effect
            const navbar = document.querySelector('.navbar');
            window.addEventListener('scroll', function() {
                if (window.scrollY > 50) {
                    navbar.classList.add('scrolled');
                } else {
                    navbar.classList.remove('scrolled');
                }
            });

            // Initialize Swiper
            const swiper = new Swiper('.testimonials-swiper', {
                slidesPerView: 1,
                spaceBetween: 30,
                loop: true,
                autoplay: {
                    delay: 5000,
                    disableOnInteraction: false,
                },
                pagination: {
                    el: '.swiper-pagination',
                    clickable: true,
                },
                breakpoints: {
                    768: {
                        slidesPerView: 2,
                    },
                    1024: {
                        slidesPerView: 3,
                    },
                }
            });

            // Smooth scrolling for anchor links
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function(e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href').substring(1);
                    const targetElement = document.getElementById(targetId);
                    if (targetElement) {
                        console.log('Scrolling to:', targetId); // Débogage
                        window.scrollTo({
                            top: targetElement.offsetTop - 100, // Ajusté pour la hauteur de la navbar
                            behavior: 'smooth'
                        });
                    } else {
                        console.error('Target element not found:', targetId); // Débogage
                    }
                });
            });

            // Back to top button
            const backToTopButton = document.getElementById('backToTop');
            window.addEventListener('scroll', function() {
                if (window.scrollY > 300) {
                    backToTopButton.classList.add('active');
                } else {
                    backToTopButton.classList.remove('active');
                }
            });

            backToTopButton.addEventListener('click', function(e) {
                e.preventDefault();
                window.scrollTo({
                    top: 0,
                    behavior: 'smooth'
                });
            });

            // Newsletter form
            const newsletterForm = document.querySelector('.newsletter-form');
            if (newsletterForm) {
                newsletterForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    const email = this.querySelector('input[type="email"]').value;
                    alert(`Merci de vous être abonné avec l'adresse: ${email}. Vous recevrez bientôt nos dernières nouvelles!`);
                    this.reset();
                });
            }

            // Animation for book cards
            const bookCards = document.querySelectorAll('.book-card');
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.opacity = 1;
                        entry.target.style.transform = 'translateY(0)';
                    }
                });
            }, { threshold: 0.1 });

            bookCards.forEach(card => {
                card.style.opacity = 0;
                card.style.transform = 'translateY(20px)';
                card.style.transition = 'opacity 0.5s ease, transform 0.5s ease';
                observer.observe(card);
            });

            // Fonctionnalité de recherche
            const searchIcon = document.getElementById('searchIcon');
            const searchOverlay = document.getElementById('searchOverlay');
            const closeSearch = document.getElementById('closeSearch');
            const searchInput = document.getElementById('searchInput');
            const searchForm = document.querySelector('.search-form');

            // Ouvrir la recherche
            if (searchIcon) {
                searchIcon.addEventListener('click', function(e) {
                    e.preventDefault();
                    searchOverlay.classList.add('active');
                    setTimeout(() => {
                        searchInput.focus();
                    }, 500);
                });
            }

            // Fermer la recherche
            if (closeSearch) {
                closeSearch.addEventListener('click', function() {
                    searchOverlay.classList.remove('active');
                });
            }

            // Fermer la recherche avec la touche Escape
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape' && searchOverlay.classList.contains('active')) {
                    searchOverlay.classList.remove('active');
                }
            });

            // Empêcher la propagation du clic dans le formulaire
            if (searchOverlay) {
                searchOverlay.querySelector('.search-container').addEventListener('click', function(e) {
                    e.stopPropagation();
                });

                // Fermer la recherche en cliquant en dehors du formulaire
                searchOverlay.addEventListener('click', function() {
                    searchOverlay.classList.remove('active');
                });
            }

            // Vérifier la soumission du formulaire
            if (searchForm) {
                searchForm.addEventListener('submit', function(e) {
                    const searchValue = searchInput.value.trim();
                    if (searchValue === '') {
                        e.preventDefault();
                        alert('Veuillez entrer un terme de recherche');
                        return false;
                    }
                    console.log('Recherche soumise pour:', searchValue);
                });
            }
        });
    </script>
{% endblock %}